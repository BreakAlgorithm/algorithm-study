# 알고리즘 - 다익스트라(Dijkstra)

#### 다익스트라(Dijkstra)

다익스트라 알고리즘은 DP(dynamic Programming)을 활용한 대표적인 <u>최단 경로 탐색 알고리즘</u>이다. 특정한 하나의 정점에서 다른 모든 정점으로 가는 최단 경로를 알려주게 된다. 다만 이 때 음의 간선을 포함할 수 없다. 현실 세계에는 음의 간선이 존재하지 않기 때문에 <u>다익스트라는 현실 세계에서 사용하기에 매우 적합한 알고리즘</u> 중 하나이다. 

다익스트라 알고리즘이 DP 문제인 이유는 **최단 거리는 여러 개의 최단 거리로 이루어져있기 때문**이다. 즉 작은 문제가 큰 문제의 부분 집합에 속해 있다고 볼 수 있다. 기본적으로 다익스트라는 <u>하나의 최단 거리를 구할 때 그 이전까지 구했던 최단 거리 정보를 그대로 사용</u>한다는 특징이 있다. 

알고리즘 작동 과정 

1. 출발 노드를 설정
2. 출발 노드를 기준으로 연결되어 있는 각 노드의 최소 비용을 저장
3. 방문하지 않은 노드 중에서 가장 비용이 적은 노드를 선택
4. 해당 노드를 거쳐서 특정한 노드로 가는 경우를 고려하여 최소 비용을 갱신
5. 3 - 4 단계를 반복

이러한 알고리즘을 해결하기 위해서는 이차원 배열의 형태로 구현을 해야한다. 즉, 특정 행에서 열로 가는 비용을 적어두는 이차원 배열을 사용해서 처리해야하는데, 이때 선형탐색으로 작성하게 되면 다익스트라의 시간복잡도는 O(N<sup>2</sup>) 으로 형성이 된다. 따라서 시간이 덜 걸려야하는 문제의 경우에는 힙 구조를 활용하여 시간 복잡도 O(N * log N)으로 만들어 줄 수 있다. 

### python heapq

데이터를 정렬된 상태로 저장하기 위해서 사용하는 파이썬의 heapq 내장 모듈은 다음과 같다. 

먼저 heapq 모듈은 이진트리 기반의 최소 힙 자료구조를 제공한다. 따라서 원소들이 항상 정렬된 상태로 추가되고 삭제되며, min heap에서 가장 작은 값은 언제나 인덱스 0, 즉 이진트리의 루트에 위치하게 된다. 

```python
heap[k] <= heap[2*k + 1] and heap[k] <= heap[2*k + 2]
```

위와 같은 식을 만족하면서 min heap을 생성하게 된다. 

파이썬의 heapq 모듈은 파이썬의 보통 리스트를 마치 최소 힙처럼 사용할 수 있게 해준다. 즉 리스트와 별개의 자료구조가 아니다. 따라서 그냥 빈 리스트를 선언한 뒤, heapq 모듈의 함수를 호출할 때 마다 이 리스트를 인자로 넘겨주어야한다. 즉, 파이썬에서는 heapq 모듈을 통해서 원소를 추가하거나 삭제한 리스트가 그냥 min heap이다. 

heapq 모듈에서는 heappush() 함수를 사용해 힙에 원소를 추가할 수 있다. O(log N) 복잡도 

```python
heap = []
heappush(heap, 4)
heappush(heap, 1)
heappush(heap, 7)
heappush(heap, 3)
print(heap) # 1 3 7 4 이때 index 1에 있는 3은 위에 있는 식을 만족한다. 
```

heapq 모듈에서는 heappop() 함수를 사용해서 원소를 삭제할 수 있다. O(log N) 복잡도 

```python
print(heapq(heap)) # 1
print(heap) # 3 4 7
```



## 참조 

1. [다익스트라 알고리즘](https://blog.naver.com/ndb796/221234424646)
2. [python heapq모듈](https://www.daleseo.com/python-heapq/)

